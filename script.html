<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü–∞–º—è—Ç–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ ¬´–ï–≤—Ä–æ–ø–ª–∞–Ω¬ª</title>
  <style>
    :root {
      --blue: #0050A0;
      --orange: #FF9600;
      --bg: #F7F9FC;
      --gray: #6C7A89;
      --light: #E6E9EF;
      
      --text: #333333;
      --card-bg: #ffffff;
      --border-color: #E6E9EF;
      --shadow-color: rgba(0, 0, 0, 0.1);
    }
    
    [data-theme="dark"] {
      --blue: #2E86DE;
      --orange: #FFA502;
      --bg: #222831;
      --gray: #A4B0BE;
      --light: #393E46;
      
      --text: #EEEEEE;
      --card-bg: #2D3436;
      --border-color: #4A4F57;
      --shadow-color: rgba(0, 0, 0, 0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      line-height: 1.6;
      padding: 0 0 30px;
      transition: background-color 0.3s, color 0.3s;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    header {
      background-color: var(--card-bg);
      box-shadow: 0 2px 5px var(--shadow-color);
      padding: 15px 0;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo-title {
      display: flex;
      align-items: center;
    }

    .logo {
      width: 150px;
      height: 40px;
      margin-right: 20px;
    }
    
    .header-actions {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .action-button,
    .theme-toggle {
      background: none;
      border: none;
      font-size: 1.2rem;
      cursor: pointer;
      padding: 5px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.3s;
      margin-left: 5px;
    }
    
    .action-button:hover,
    .theme-toggle:hover {
      background-color: var(--light);
    }
    
    /* Presentation mode styles */
    body.presentation-mode header {
      padding: 5px 0;
    }
    
    body.presentation-mode .header-actions {
      position: fixed;
      top: 10px;
      right: 10px;
      z-index: 1000;
      background-color: var(--card-bg);
      border-radius: 50px;
      padding: 5px;
      box-shadow: 0 2px 10px var(--shadow-color);
    }
    
    body.presentation-mode .datetime {
      display: none;
    }
    
    body.presentation-mode section:not(.active-section) {
      display: none;
    }
    
    body.presentation-mode footer {
      display: none;
    }
    
    body.presentation-mode .container {
      max-width: 100%;
      padding: 0;
    }
    
    body.presentation-mode section {
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    h1 {
      font-size: 1.6rem;
      color: var(--blue);
    }

    h2 {
      font-size: 1.4rem;
      color: var(--blue);
      margin-bottom: 15px;
      padding-bottom: 5px;
      border-bottom: 2px solid var(--light);
    }

    .datetime {
      font-size: 0.9rem;
      color: var(--gray);
    }

    section {
      background-color: var(--card-bg);
      border-radius: 8px;
      box-shadow: 0 2px 5px var(--shadow-color);
      padding: 20px;
      margin: 20px 0;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    /* Product Features */
    .features {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }

    .feature-card {
      padding: 15px;
      border-radius: 8px;
      background-color: var(--card-bg);
      border: 1px solid var(--border-color);
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
    }

    .feature-card:hover {
      box-shadow: 0 5px 15px var(--shadow-color);
      transform: translateY(-2px);
    }

    .feature-icon {
      font-size: 2rem;
      margin-bottom: 10px;
    }

    .feature-title {
      font-weight: bold;
      color: var(--blue);
      margin-bottom: 5px;
    }

    .feature-desc {
      color: var(--gray);
      font-size: 0.9rem;
    }

    /* KPI Cards */
    .kpi-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }

    .kpi-card {
      padding: 15px;
      border-radius: 8px;
      background-color: white;
      border: 1px solid var(--light);
    }

    .kpi-title {
      font-weight: bold;
      margin-bottom: 10px;
      color: var(--blue);
      display: flex;
      justify-content: space-between;
    }

    .kpi-value {
      font-size: 1.8rem;
      font-weight: bold;
      color: var(--blue);
      margin: 10px 0;
    }

    .kpi-baseline {
      font-size: 0.8rem;
      color: var(--gray);
    }
    
    .kpi-edit {
      display: none;
      margin: 10px 0;
    }
    
    .kpi-edit.show {
      display: block;
    }
    
    .kpi-target-input {
      width: 60px;
      padding: 5px;
      border: 1px solid var(--light);
      border-radius: 4px;
    }
    
    .edit-toggle {
      font-size: 0.8rem;
      background: none;
      border: none;
      color: var(--blue);
      cursor: pointer;
      padding: 5px 10px;
      margin-left: 10px;
      border-radius: 4px;
    }
    
    .edit-toggle:hover {
      background-color: var(--light);
    }
    
    .kpi-save-container {
      display: none;
      text-align: center;
      margin-top: 15px;
    }
    
    .kpi-save-container.show {
      display: block;
    }
    
    .save-btn {
      background-color: var(--blue);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
    }
    
    .save-btn:hover {
      background-color: #003d7a;
    }

    .progress-container {
      height: 8px;
      background-color: var(--light);
      border-radius: 4px;
      margin: 10px 0;
    }

    .progress-bar {
      height: 8px;
      border-radius: 4px;
      transition: width 1s ease-out;
    }

    .progress-red { background-color: #E74C3C; }
    .progress-yellow { background-color: #F1C40F; }
    .progress-green { background-color: #2ECC71; }

    /* Daily Checklist */
    .checklist {
      list-style: none;
    }

    .checklist-item {
      display: flex;
      align-items: center;
      padding: 10px 0;
      border-bottom: 1px solid var(--light);
    }

    .checklist-item:last-child {
      border-bottom: none;
    }

    .checklist-item input[type="checkbox"] {
      margin-right: 15px;
      width: 18px;
      height: 18px;
    }

    .checklist-item label {
      flex: 1;
      cursor: pointer;
    }

    .checklist-item input[type="checkbox"]:checked + label {
      text-decoration: line-through;
      color: var(--gray);
    }

    /* CORE-7 Accordion */
    .accordion-item {
      border: 1px solid var(--light);
      border-radius: 4px;
      margin-bottom: 10px;
      overflow: hidden;
    }

    .accordion-header {
      padding: 15px;
      background-color: white;
      cursor: pointer;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .accordion-header:hover {
      background-color: var(--light);
    }

    .accordion-content {
      padding: 0;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
      background-color: white;
    }

    .accordion-content-inner {
      padding: 15px;
    }

    .accordion-active .accordion-content {
      max-height: 1000px;
    }

    .accordion-icon {
      transition: transform 0.3s ease;
    }

    .accordion-active .accordion-icon {
      transform: rotate(180deg);
    }

    /* Objections Tabs */
    .tabs {
      display: flex;
      border-bottom: 1px solid var(--light);
      margin-bottom: 20px;
    }

    .tab-button {
      padding: 10px 20px;
      background-color: transparent;
      border: none;
      cursor: pointer;
      font-weight: bold;
      color: var(--gray);
    }

    .tab-button:hover {
      color: var(--blue);
    }

    .tab-button.active {
      color: var(--blue);
      border-bottom: 3px solid var(--orange);
    }

    .tab-content {
      display: none;
      padding: 15px 0;
    }

    .tab-content.active {
      display: block;
    }

    /* TCO Calculator */
    .calculator {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }
    
    .calculator-inputs {
      flex: 1;
      min-width: 250px;
    }
    
    .calculator-results {
      flex: 1;
      min-width: 250px;
      background-color: var(--light);
      padding: 15px;
      border-radius: 8px;
    }
    
    .calculator-group {
      margin-bottom: 15px;
    }
    
    .calculator-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: var(--blue);
    }
    
    .calculator-group input {
      width: 100%;
      padding: 10px;
      border: 1px solid var(--light);
      border-radius: 4px;
    }
    
    .calculate-btn {
      background-color: var(--blue);
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s;
      margin-top: 10px;
      width: 100%;
    }
    
    .calculate-btn:hover {
      background-color: #003d7a;
    }
    
    .result-item {
      padding: 10px 0;
      border-bottom: 1px solid rgba(0,0,0,0.1);
      display: flex;
      justify-content: space-between;
    }
    
    .result-item:last-child {
      border-bottom: none;
      font-weight: bold;
      color: var(--blue);
      padding-top: 15px;
    }
    
    .result-label {
      font-weight: 500;
    }
    
    .result-value {
      font-weight: bold;
    }
    
    .highlight {
      background-color: rgba(255, 150, 0, 0.1);
      padding: 10px;
      border-radius: 4px;
      margin-top: 10px;
    }
    
    .calculator-chart-container {
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid var(--light);
    }
    
    .visualization-container {
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .visualization {
      width: 100%;
      max-width: 700px;
      height: auto;
      border: 1px solid var(--light);
      border-radius: 8px;
      padding: 10px;
      background-color: white;
    }
    
    .chart-legend {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 15px 0;
      flex-wrap: wrap;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
    }
    
    .legend-color {
      display: inline-block;
      width: 15px;
      height: 15px;
      margin-right: 8px;
      border-radius: 3px;
    }
    
    .visualization-hint {
      font-size: 0.9rem;
      color: var(--gray);
      text-align: center;
      max-width: 600px;
      margin: 0 auto;
    }

    /* Quick Links */
    .quick-links {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }

    .quick-link {
      display: flex;
      align-items: center;
      padding: 10px 15px;
      background-color: white;
      border: 1px solid var(--light);
      border-radius: 4px;
      color: var(--blue);
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .quick-link:hover {
      background-color: var(--blue);
      color: white;
    }

    .link-icon {
      margin-right: 10px;
      font-size: 1.2rem;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 20px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
      margin-top: 30px;
    }

    .contact-info {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 15px;
    }

    .contact-item {
      display: flex;
      align-items: center;
    }

    .contact-icon {
      margin-right: 5px;
      color: var(--blue);
    }

    .generation-info {
      font-size: 0.8rem;
      color: var(--gray);
    }

    /* Responsive */
    @media (max-width: 600px) {
      .header-content {
        flex-direction: column;
        align-items: flex-start;
      }

      .datetime {
        margin-top: 10px;
      }

      .features {
        grid-template-columns: 1fr;
      }

      .kpi-cards {
        grid-template-columns: 1fr;
      }

      .tabs {
        flex-direction: column;
        border-bottom: none;
      }

      .tab-button {
        border-bottom: 1px solid var(--light);
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="header-content">
        <div class="logo-title">
          <img class="logo" src="logo.svg.png" alt="–ï–≤—Ä–æ–ø–ª–∞–Ω –ª–æ–≥–æ—Ç–∏–ø">
          <h1>–ü–∞–º—è—Ç–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ ‚Äî v1.0</h1>
        </div>
        <div class="header-actions">
          <button id="presentation-mode" class="action-button" title="–†–µ–∂–∏–º –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏">üì∫</button>
          <button id="theme-toggle" class="theme-toggle" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåì</button>
          <div class="datetime" id="current-datetime">‚Äî</div>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <!-- Product Description -->
    <section id="product">
      <h2>–ï–≤—Ä–æ–ø–ª–∞–Ω ‚Äî —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–æ—Å—Ç–∞ –±–∏–∑–Ω–µ—Å–∞</h2>
      <div class="features">
        <div class="feature-card" data-feature="leasing">
          <div class="feature-icon">üöó</div>
          <div class="feature-title">–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ª–∏–∑–∏–Ω–≥</div>
          <div class="feature-desc">–î–æ 100 % —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –∑–∞–ª–æ–≥–∞ –¢–°.</div>
        </div>
        <div class="feature-card" data-feature="rate">
          <div class="feature-icon">üí∞</div>
          <div class="feature-title">–°—Ç–∞–≤–∫–∞ –Ω–∏–∂–µ –∫—Ä–µ–¥–∏—Ç–∞</div>
          <div class="feature-desc">–≠–∫–æ–Ω–æ–º–∏—è –∑–∞ —Å—á—ë—Ç –ù–î–°-–≤—ã—á–µ—Ç–∞ –∏ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏.</div>
        </div>
        <div class="feature-card" data-feature="schedule">
          <div class="feature-icon">üìä</div>
          <div class="feature-title">–ì–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫</div>
          <div class="feature-desc">Balloon, —Å–µ–∑–æ–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏, –ø–ª–∞–≤–∞—é—â–∞—è —Å—Ç–∞–≤–∫–∞.</div>
        </div>
        <div class="feature-card" data-feature="portal">
          <div class="feature-icon">üåê</div>
          <div class="feature-title">–û–Ω–ª–∞–π–Ω-–∫–∞–±–∏–Ω–µ—Ç</div>
          <div class="feature-desc">–î–æ–≥–æ–≤–æ—Ä, —Å—á–µ—Ç–∞ –∏ –¢–°-–æ—Ç—á—ë—Ç—ã 24/7 –≤ –±—Ä–∞—É–∑–µ—Ä–µ.</div>
        </div>
      </div>
    </section>

    <!-- KPI Dashboard -->
    <section id="kpi">
      <h2>–ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (KPI) <button id="edit-kpi-toggle" class="edit-toggle">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ª–∏</button></h2>
      <div class="kpi-cards">
        <div class="kpi-card">
          <div class="kpi-title">
            <span>NVB</span>
            <span>–º–ª–Ω ‚ÇΩ</span>
          </div>
          <div class="kpi-value" data-target="14" data-current="0">0</div>
          <div class="kpi-baseline">–ë–∞–∑–∞: <span class="kpi-base-value">14</span> –º–ª–Ω ‚ÇΩ</div>
          <div class="kpi-edit">
            <label>–¶–µ–ª—å: <input type="number" class="kpi-target-input" data-kpi-id="nvb" value="14" min="0" step="1"></label>
          </div>
          <div class="progress-container">
            <div class="progress-bar" data-base="14" data-min="11" data-max="17"></div>
          </div>
        </div>
        
        <div class="kpi-card">
          <div class="kpi-title">
            <span>–ö–æ–Ω–≤–µ—Ä—Å–∏—è</span>
            <span>%</span>
          </div>
          <div class="kpi-value" data-target="42" data-current="0">0</div>
          <div class="kpi-baseline">–ë–∞–∑–∞: <span class="kpi-base-value">42</span> %</div>
          <div class="kpi-edit">
            <label>–¶–µ–ª—å: <input type="number" class="kpi-target-input" data-kpi-id="conversion" value="42" min="0" max="100" step="1"></label>
          </div>
          <div class="progress-container">
            <div class="progress-bar" data-base="42" data-min="34" data-max="50"></div>
          </div>
        </div>
        
        <div class="kpi-card">
          <div class="kpi-title">
            <span>Lead‚ÜíSign</span>
            <span>–¥–Ω–∏</span>
          </div>
          <div class="kpi-value" data-target="12" data-current="0" data-lower="true">0</div>
          <div class="kpi-baseline">–¶–µ–ª—å: ‚â§<span class="kpi-base-value">12</span> –¥–Ω–µ–π</div>
          <div class="kpi-edit">
            <label>–¶–µ–ª—å: <input type="number" class="kpi-target-input" data-kpi-id="leadsign" value="12" min="1" max="30" step="1"></label>
          </div>
          <div class="progress-container">
            <div class="progress-bar" data-base="12" data-min="14" data-max="10" data-lower="true"></div>
          </div>
        </div>
        
        <div class="kpi-card">
          <div class="kpi-title">
            <span>¬´–§–ª–∏—Ç+¬ª</span>
            <span>%</span>
          </div>
          <div class="kpi-value" data-target="35" data-current="0">0</div>
          <div class="kpi-baseline">–ë–∞–∑–∞: <span class="kpi-base-value">35</span> %</div>
          <div class="kpi-edit">
            <label>–¶–µ–ª—å: <input type="number" class="kpi-target-input" data-kpi-id="fleet" value="35" min="0" max="100" step="1"></label>
          </div>
          <div class="progress-container">
            <div class="progress-bar" data-base="35" data-min="28" data-max="40"></div>
          </div>
        </div>
        
        <div class="kpi-card">
          <div class="kpi-title">
            <span>NPS</span>
            <span></span>
          </div>
          <div class="kpi-value" data-target="70" data-current="0">0</div>
          <div class="kpi-baseline">–ë–∞–∑–∞: <span class="kpi-base-value">70</span></div>
          <div class="kpi-edit">
            <label>–¶–µ–ª—å: <input type="number" class="kpi-target-input" data-kpi-id="nps" value="70" min="0" max="100" step="1"></label>
          </div>
          <div class="progress-container">
            <div class="progress-bar" data-base="70" data-min="56" data-max="75"></div>
          </div>
        </div>
      </div>
      <div class="kpi-save-container">
        <button id="save-kpi" class="save-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ü–µ–ª–∏</button>
      </div>
    </section>

    <!-- Daily Checklist -->
    <section id="daily">
      <h2>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç</h2>
      <ul class="checklist">
        <li class="checklist-item">
          <input type="checkbox" id="task1">
          <label for="task1">Self-check —Ü–µ–ª–µ–π –¥–Ω—è</label>
        </li>
        <li class="checklist-item">
          <input type="checkbox" id="task2">
          <label for="task2">–°—Ç–µ–Ω–¥–∞–ø-15</label>
        </li>
        <li class="checklist-item">
          <input type="checkbox" id="task3">
          <label for="task3">–ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–∏–¥–æ–≤</label>
        </li>
        <li class="checklist-item">
          <input type="checkbox" id="task4">
          <label for="task4">Follow-up –≥–æ—Ä—è—á–∏—Ö</label>
        </li>
        <li class="checklist-item">
          <input type="checkbox" id="task5">
          <label for="task5">–û–±–∑–≤–æ–Ω ¬´—Å–ø—è—â–∏—Ö¬ª</label>
        </li>
        <li class="checklist-item">
          <input type="checkbox" id="task6">
          <label for="task6">–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ CRM</label>
        </li>
      </ul>
    </section>

    <!-- CORE-7 Accordion -->
    <section id="core">
      <h2>CORE-7 –°–∫—Ä–∏–ø—Ç</h2>
      <div class="accordion">
        <div class="accordion-item">
          <div class="accordion-header">
            <span>1. Context</span>
            <span class="accordion-icon">‚ñº</span>
          </div>
          <div class="accordion-content">
            <div class="accordion-content-inner">
              <p>–ó–∞–¥–∞–π—Ç–µ 2 –≤–æ–ø—Ä–æ—Å–∞ –æ –±–∏–∑–Ω–µ—Å–µ –∫–ª–∏–µ–Ω—Ç–∞ –∏ 1 –≤–æ–ø—Ä–æ—Å –æ —Ç–µ–∫—É—â–µ–º –ø–∞—Ä–∫–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤.</p>
              <p>–ù–∞–ø—Ä–∏–º–µ—Ä:</p>
              <ul>
                <li>–ö–∞–∫ –¥–∞–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ —ç—Ç–æ–π –æ—Ç—Ä–∞—Å–ª–∏?</li>
                <li>–ö–∞–∫–∏–µ –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã —Å–µ–π—á–∞—Å –≤ —Ä–∞–±–æ—Ç–µ?</li>
                <li>–°–∫–æ–ª—å–∫–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –≤ –≤–∞—à–µ–º –∞–≤—Ç–æ–ø–∞—Ä–∫–µ –∏ –∫–∞–∫–æ–π —Å—Ä–µ–¥–Ω–∏–π –≤–æ–∑—Ä–∞—Å—Ç?</li>
              </ul>
            </div>
          </div>
        </div>
        
        <div class="accordion-item">
          <div class="accordion-header">
            <span>2. Objective</span>
            <span class="accordion-icon">‚ñº</span>
          </div>
          <div class="accordion-content">
            <div class="accordion-content-inner">
              <p>–í—ã—è—Å–Ω–∏—Ç–µ —Ü–µ–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞, –æ–∂–∏–¥–∞–µ–º—ã–π ROI –∏ —Å—Ä–æ–∫–∏.</p>
              <p>–ö–ª—é—á–µ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã:</p>
              <ul>
                <li>–ó–∞—á–µ–º –≤–∞—à–µ–º—É –±–∏–∑–Ω–µ—Å—É –Ω—É–∂–Ω–∞ —ç—Ç–∞ —Ç–µ—Ö–Ω–∏–∫–∞ –∏–º–µ–Ω–Ω–æ —Å–µ–π—á–∞—Å?</li>
                <li>–ö–∞–∫—É—é –æ—Ç–¥–∞—á—É –Ω–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤—ã –æ–∂–∏–¥–∞–µ—Ç–µ?</li>
                <li>–í –∫–∞–∫–∏–µ —Å—Ä–æ–∫–∏ –Ω—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —Ç–µ—Ö–Ω–∏–∫—É –≤ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—é?</li>
              </ul>
            </div>
          </div>
        </div>
        
        <div class="accordion-item">
          <div class="accordion-header">
            <span>3. Risk</span>
            <span class="accordion-icon">‚ñº</span>
          </div>
          <div class="accordion-content">
            <div class="accordion-content-inner">
              <p>–û–±—Å—É–¥–∏—Ç–µ —Ä–∏—Å–∫–∏ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–Ω–∏—è —Ä–µ—à–µ–Ω–∏—è:</p>
              <ul>
                <li>"–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –æ—Ç–ª–æ–∂–∏—Ç—å –ø–æ–∫—É–ø–∫—É —Ç–µ—Ö–Ω–∏–∫–∏ –Ω–∞ –ø–æ–ª–≥–æ–¥–∞?"</li>
                <li>"–ö–∞–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —É–ø—É—â–µ–Ω—ã?"</li>
                <li>"–ö–∞–∫ —ç—Ç–æ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å?"</li>
              </ul>
            </div>
          </div>
        </div>
        
        <div class="accordion-item">
          <div class="accordion-header">
            <span>4. Economy</span>
            <span class="accordion-icon">‚ñº</span>
          </div>
          <div class="accordion-content">
            <div class="accordion-content-inner">
              <p>–ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ TCO-—ç–∫–æ–Ω–æ–º–∏—é –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∫—Ä–µ–¥–∏—Ç–æ–º:</p>
              <ul>
                <li>–ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –≤—ã–≥–æ–¥—ã –ù–î–°-–≤—ã—á–µ—Ç–∞ (20%)</li>
                <li>–ü–æ–∫–∞–∂–∏—Ç–µ —ç—Ñ—Ñ–µ–∫—Ç —É—Å–∫–æ—Ä–µ–Ω–Ω–æ–π –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏</li>
                <li>–°—É–º–º–∞—Ä–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—ã—á–Ω–æ 7-12% –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¢–°</li>
              </ul>
            </div>
          </div>
        </div>
        
        <div class="accordion-item">
          <div class="accordion-header">
            <span>5. –†–µ—à–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞</span>
            <span class="accordion-icon">‚ñº</span>
          </div>
          <div class="accordion-content">
            <div class="accordion-content-inner">
              <p>–ü–æ–¥–±–µ—Ä–∏—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –ø–ª–∞—Ç–µ–∂–µ–π:</p>
              <ul>
                <li><strong>–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–≤–∫–∞:</strong> –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å</li>
                <li><strong>–ü–ª–∞–≤–∞—é—â–∞—è —Å—Ç–∞–≤–∫–∞:</strong> –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è –ø—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏ –∫–ª—é—á–µ–≤–æ–π</li>
                <li><strong>Balloon:</strong> —Å–Ω–∏–∂–µ–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ —Å –æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –ø–ª–∞—Ç–µ–∂–æ–º</li>
                <li><strong>–°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å:</strong> –ø–ª–∞—Ç–∏—Ç–µ –º–µ–Ω—å—à–µ –≤ –Ω–∏–∑–∫–∏–π —Å–µ–∑–æ–Ω, –±–æ–ª—å—à–µ –≤ –≤—ã—Å–æ–∫–∏–π</li>
              </ul>
            </div>
          </div>
        </div>
        
        <div class="accordion-item">
          <div class="accordion-header">
            <span>6. Extra value</span>
            <span class="accordion-icon">‚ñº</span>
          </div>
          <div class="accordion-content">
            <div class="accordion-content-inner">
              <p>–ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è:</p>
              <ul>
                <li><strong>¬´–§–ª–∏—Ç+¬ª:</strong> –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–≤—Ç–æ–ø–∞—Ä–∫–∞</li>
                <li><strong>–¢–µ–ª–µ–º–∞—Ç–∏–∫–∞:</strong> –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¢–°</li>
                <li><strong>–¢–æ–ø–ª–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç—ã:</strong> —ç–∫–æ–Ω–æ–º–∏—è –¥–æ 12% –Ω–∞ —Ç–æ–ø–ª–∏–≤–µ</li>
              </ul>
            </div>
          </div>
        </div>
        
        <div class="accordion-item">
          <div class="accordion-header">
            <span>7. Next step & Timing</span>
            <span class="accordion-icon">‚ñº</span>
          </div>
          <div class="accordion-content">
            <div class="accordion-content-inner">
              <p>–ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –∏ —Å—Ä–æ–∫–∏:</p>
              <ul>
                <li>–ß–µ—Ç–∫–æ –æ–±–æ–∑–Ω–∞—á—å—Ç–µ, –∫—Ç–æ —á—Ç–æ –¥–µ–ª–∞–µ—Ç –¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –¥–∞—Ç—ã</li>
                <li>–ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –¥–∞—Ç—É —Å–ª–µ–¥—É—é—â–µ–π –≤—Å—Ç—Ä–µ—á–∏/–∑–≤–æ–Ω–∫–∞</li>
                <li>–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è</li>
              </ul>
              <p>–ü—Ä–∏–º–µ—Ä: "–ö –ø—è—Ç–Ω–∏—Ü–µ —è –ø—Ä–∏—à–ª—é –≤–∞–º –¥–≤–∞ —Ä–∞—Å—á–µ—Ç–∞ –≥—Ä–∞—Ñ–∏–∫–∞, –∞ –æ—Ç –≤–∞—Å –Ω—É–∂–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ –∫–æ–º–ø–∞–Ω–∏–∏"</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Objections Tabs -->
    <section id="objections">
      <h2>–†–∞–±–æ—Ç–∞ —Å –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è–º–∏</h2>
      <div class="tabs">
        <button class="tab-button active" data-tab="tab1">–°—Ç–∞–≤–∫–∞</button>
        <button class="tab-button" data-tab="tab2">–ü–ª–∞—Ç—ë–∂</button>
        <button class="tab-button" data-tab="tab3">–ì–∏–±–∫–æ—Å—Ç—å</button>
      </div>
      
      <div class="tab-content active" id="tab1">
        <h3>¬´–°—Ç–∞–≤–∫–∞ –∫–æ—Å–º–∏—á–µ—Å–∫–∞—è, –ø–æ–¥–æ–∂–¥—ë–º –ø–∞–¥–µ–Ω–∏—è¬ª</h3>
        <p>–ü—Ä–∏ –ª–∏–∑–∏–Ω–≥–µ —Å—Ç–∞–≤–∫–∞ ‚Äî –ª–∏—à—å –≤–µ—Ä—Ö—É—à–∫–∞ –∞–π—Å–±–µ—Ä–≥–∞. –° —É—á–µ—Ç–æ–º –ù–î–°-–≤—ã—á–µ—Ç–∞ –∏ —É—Å–∫–æ—Ä–µ–Ω–Ω–æ–π –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤–ª–∞–¥–µ–Ω–∏—è –Ω–∞ 7-12% –Ω–∏–∂–µ –∫—Ä–µ–¥–∏—Ç–∞.</p>
        <p>–¢–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –æ–ø—Ü–∏—è Re-pricing —á–µ—Ä–µ–∑ 18 –º–µ—Å—è—Ü–µ–≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ ‚Äî –µ—Å–ª–∏ —Å—Ç–∞–≤–∫–∞ —Å–Ω–∏–∑–∏—Ç—Å—è, –º—ã –ø–µ—Ä–µ—Å—á–∏—Ç–∞–µ–º –≥—Ä–∞—Ñ–∏–∫.</p>
      </div>
      
      <div class="tab-content" id="tab2">
        <h3>¬´–ë–æ–ª—å—à–æ–π –µ–∂–µ–º–µ—Å—è—á–Ω—ã–π –ø–ª–∞—Ç—ë–∂¬ª</h3>
        <p>–ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ —É–≤–µ–ª–∏—á–∏—Ç—å –∞–≤–∞–Ω—Å –¥–æ 25% –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å Balloon 30% –≤ –∫–æ–Ω—Ü–µ —Å—Ä–æ–∫–∞ ‚Äî –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ cash-flow —Å–Ω–∏–∂–∞–µ—Ç—Å—è –Ω–∞ 18%.</p>
        <p>–¢–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω —Å–µ–∑–æ–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –æ–ø–ª–∞—Ç—ã: –ª–µ—Ç–æ–º –ø–ª–∞—Ç–µ–∂–∏ –º–µ–Ω—å—à–µ, –∫–æ–≥–¥–∞ –≤—ã—Ä—É—á–∫–∞ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ –Ω–∏–∂–µ.</p>
      </div>
      
      <div class="tab-content" id="tab3">
        <h3>¬´–ù—É–∂–Ω–∞ –≥–∏–±–∫–æ—Å—Ç—å –≤–ª–∞–¥–µ–Ω–∏—è¬ª</h3>
        <p>–° –ø–æ–º–æ—â—å—é –º–µ—Ö–∞–Ω–∏–∑–º–∞ buy-back —á–µ—Ä–µ–∑ 36 –º–µ—Å—è—Ü–µ–≤ –≤—ã –º–æ–∂–µ—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∫ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–∂–∏ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —ç—Ç–∏–º –ø–æ—Ç–µ—Ä—å.</p>
        <p>–¢–∞–∫–∂–µ –ø–æ—Ä—Ç–∞–ª "–§–ª–∏—Ç+" –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–±–µ–≥–µ, —Å–µ—Ä–≤–∏—Å–µ, –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–º –¢–û ‚Äî —ç–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∏ —Å–Ω–∏–∂–µ–Ω–∏–µ —Ä–∏—Å–∫–∞ —à—Ç—Ä–∞—Ñ–æ–≤.</p>
      </div>
    </section>

    <!-- TCO Calculator -->
    <section id="calculator">
      <h2>TCO-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h2>
      <div class="calculator">
        <div class="calculator-inputs">
          <div class="calculator-group">
            <label for="vehicle-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å –¢–°, ‚ÇΩ:</label>
            <input type="number" id="vehicle-cost" value="1500000" min="0" step="50000">
          </div>
          <div class="calculator-group">
            <label for="lease-term">–°—Ä–æ–∫ –ª–∏–∑–∏–Ω–≥–∞, –º–µ—Å:</label>
            <input type="number" id="lease-term" value="36" min="12" max="60" step="12">
          </div>
          <div class="calculator-group">
            <label for="advance-payment">–ê–≤–∞–Ω—Å, %:</label>
            <input type="number" id="advance-payment" value="20" min="0" max="49" step="5">
          </div>
          <div class="calculator-group">
            <label for="lease-rate">–°—Ç–∞–≤–∫–∞ –ª–∏–∑–∏–Ω–≥–∞, %:</label>
            <input type="number" id="lease-rate" value="14.9" min="0" max="30" step="0.1">
          </div>
          <div class="calculator-group">
            <label for="loan-rate">–°—Ç–∞–≤–∫–∞ –∫—Ä–µ–¥–∏—Ç–∞, %:</label>
            <input type="number" id="loan-rate" value="16.5" min="0" max="30" step="0.1">
          </div>
          <button id="calculate-tco" class="calculate-btn">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        </div>
        <div class="calculator-results">
          <div class="result-item">
            <div class="result-label">–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –ø–ª–∞—Ç—ë–∂ (–ª–∏–∑–∏–Ω–≥):</div>
            <div class="result-value" id="lease-payment">‚Äî</div>
          </div>
          <div class="result-item">
            <div class="result-label">–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –ø–ª–∞—Ç—ë–∂ (–∫—Ä–µ–¥–∏—Ç):</div>
            <div class="result-value" id="loan-payment">‚Äî</div>
          </div>
          <div class="result-item">
            <div class="result-label">TCO –ª–∏–∑–∏–Ω–≥:</div>
            <div class="result-value" id="lease-tco">‚Äî</div>
          </div>
          <div class="result-item">
            <div class="result-label">TCO –∫—Ä–µ–¥–∏—Ç:</div>
            <div class="result-value" id="loan-tco">‚Äî</div>
          </div>
          <div class="result-item highlight">
            <div class="result-label">–≠–∫–æ–Ω–æ–º–∏—è —Å –ª–∏–∑–∏–Ω–≥–æ–º:</div>
            <div class="result-value" id="savings">‚Äî</div>
          </div>
        </div>
      </div>
      <div class="calculator-chart-container">
        <h3>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç: –ª–∏–∑–∏–Ω–≥ vs –∫—Ä–µ–¥–∏—Ç</h3>
        <div class="visualization-container">
          <object id="cost-comparison" type="image/svg+xml" data="images/cost_comparison.svg" class="visualization"></object>
          <div class="chart-legend">
            <div class="legend-item"><span class="legend-color" style="background-color: var(--blue);"></span> –õ–∏–∑–∏–Ω–≥ (—Å –Ω–∞–ª–æ–≥–æ–≤—ã–º–∏ –ª—å–≥–æ—Ç–∞–º–∏)</div>
            <div class="legend-item"><span class="legend-color" style="background-color: var(--gray);"></span> –ö—Ä–µ–¥–∏—Ç (–±–µ–∑ –Ω–∞–ª–æ–≥–æ–≤—ã—Ö –ª—å–≥–æ—Ç)</div>
          </div>
          <p class="visualization-hint">–î–∏–∞–≥—Ä–∞–º–º–∞ –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É –≤ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤–ª–∞–¥–µ–Ω–∏—è –º–µ–∂–¥—É –ª–∏–∑–∏–Ω–≥–æ–º –∏ –∫—Ä–µ–¥–∏—Ç–æ–º —Å —É—á–µ—Ç–æ–º –Ω–∞–ª–æ–≥–æ–≤—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –ª–∏–∑–∏–Ω–≥–∞.</p>
        </div>
      </div>
    </section>

    <!-- Quick Links -->
    <section id="links">
      <h2>–ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏</h2>
      <div class="quick-links">
        <a href="#calculator" class="quick-link">
          <span class="link-icon">üìä</span>
          TCO-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
        </a>
        <a href="#" target="_blank" class="quick-link">
          <span class="link-icon">üìÑ</span>
          –ö–∞—Ç–∞–ª–æ–≥ —Å—É–±—Å–∏–¥–∏–π
        </a>
        <a href="#" target="_blank" class="quick-link">
          <span class="link-icon">‚ùì</span>
          FAQ –ø–æ —Å—Ç–∞–≤–∫–∞–º
        </a>
        <a href="#" target="_blank" class="quick-link">
          <span class="link-icon">üíº</span>
          CRM-–ø–∞–Ω–µ–ª—å
        </a>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="contact-info">
        <div class="contact-item">
          <span class="contact-icon">üìû</span>
          <span>8 (800) 250-80-80</span>
        </div>
        <div class="contact-item">
          <span class="contact-icon">‚úâÔ∏è</span>
          <span>info@europlan.ru</span>
        </div>
      </div>
      <div class="generation-info">
        –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: <span id="generation-date">24 –∞–ø—Ä–µ–ª—è 2025 –≥.</span>
      </div>
    </footer>
  </div>

  <script>
    // Update Date and Time
    function updateDateTime() {
      const now = new Date();
      const options = { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
      };
      document.getElementById('current-datetime').textContent = now.toLocaleString('ru-RU', options);
      
      // Update generation date in footer
      const dateOptions = { day: 'numeric', month: 'long', year: 'numeric' };
      document.getElementById('generation-date').textContent = now.toLocaleString('ru-RU', dateOptions);
    }
    
    updateDateTime();
    setInterval(updateDateTime, 60000); // Update every minute

    // KPI Animation
    function animateKPI() {
      const kpiValues = document.querySelectorAll('.kpi-value');
      const progressBars = document.querySelectorAll('.progress-bar');
      
      kpiValues.forEach(value => {
        const target = parseInt(value.dataset.target);
        const current = parseInt(value.dataset.current);
        const isLower = value.dataset.lower === 'true';
        const duration = 1000; // Animation duration in ms
        const step = target / (duration / 16); // 60 FPS (16ms per frame)
        
        let count = current;
        const timer = setInterval(() => {
          count += step;
          if (count >= target) {
            clearInterval(timer);
            count = target;
          }
          value.textContent = Math.round(count);
          value.dataset.current = count;
        }, 16);
      });
      
      progressBars.forEach(bar => {
        const baseValue = parseFloat(bar.dataset.base);
        const minValue = parseFloat(bar.dataset.min);
        const maxValue = parseFloat(bar.dataset.max);
        const isLower = bar.dataset.lower === 'true';
        
        // Set actual value to base value for demonstation, in real scenario this would be the current actual value
        const actual = baseValue;
        let percentage;
        
        if (!isLower) {
          // Normal metrics (higher is better)
          if (actual < minValue) {
            // Below minimum (red zone)
            percentage = (actual / minValue) * 80;
            bar.classList.add('progress-red');
          } else if (actual >= minValue && actual < baseValue) {
            // Between minimum and target (yellow zone)
            percentage = 80 + ((actual - minValue) / (baseValue - minValue)) * 20;
            bar.classList.add('progress-yellow');
          } else {
            // At or above target (green zone)
            percentage = 100 + ((actual - baseValue) / (maxValue - baseValue)) * 20;
            percentage = Math.min(percentage, 120);
            bar.classList.add('progress-green');
          }
        } else {
          // Lower is better metrics (like Lead‚ÜíSign days)
          if (actual > minValue) {
            // Above minimum days (red zone - too many days)
            percentage = ((2 * minValue - actual) / minValue) * 80; // Inverted scale
            percentage = Math.max(percentage, 0); // Don't go below 0%
            bar.classList.add('progress-red');
          } else if (actual <= minValue && actual > baseValue) {
            // Between minimum and target days (yellow zone)
            percentage = 80 + ((minValue - actual) / (minValue - baseValue)) * 20;
            bar.classList.add('progress-yellow');
          } else {
            // At or below target days (green zone - fewer days is better)
            percentage = 100 + ((baseValue - actual) / (baseValue - maxValue)) * 20;
            percentage = Math.min(percentage, 120);
            bar.classList.add('progress-green');
          }
        }
        
        setTimeout(() => {
          bar.style.width = percentage + '%';
        }, 200);
      });
    }
    
    // Initialize Checklist from localStorage
    function initChecklist() {
      const checkboxes = document.querySelectorAll('.checklist input[type="checkbox"]');
      const savedTasks = JSON.parse(localStorage.getItem('todos-v1')) || [];
      
      checkboxes.forEach((checkbox, index) => {
        checkbox.checked = savedTasks[index] || false;
        
        checkbox.addEventListener('change', () => {
          const updatedTasks = [];
          document.querySelectorAll('.checklist input[type="checkbox"]').forEach(cb => {
            updatedTasks.push(cb.checked);
          });
          localStorage.setItem('todos-v1', JSON.stringify(updatedTasks));
        });
      });
    }
    
    // Accordion functionality
    function initAccordion() {
      const accordionHeaders = document.querySelectorAll('.accordion-header');
      
      accordionHeaders.forEach(header => {
        header.addEventListener('click', () => {
          const accordionItem = header.parentElement;
          accordionItem.classList.toggle('accordion-active');
        });
      });
    }
    
    // Tabs functionality
    function initTabs() {
      const tabButtons = document.querySelectorAll('.tab-button');
      const tabContents = document.querySelectorAll('.tab-content');
      const savedTab = localStorage.getItem('tab-active') || 'tab1';
      
      // Initialize with saved tab
      activateTab(savedTab);
      
      tabButtons.forEach(button => {
        button.addEventListener('click', () => {
          const tabId = button.dataset.tab;
          activateTab(tabId);
          localStorage.setItem('tab-active', tabId);
        });
      });
      
      function activateTab(tabId) {
        tabButtons.forEach(btn => {
          btn.classList.remove('active');
          if (btn.dataset.tab === tabId) {
            btn.classList.add('active');
          }
        });
        
        tabContents.forEach(content => {
          content.classList.remove('active');
          if (content.id === tabId) {
            content.classList.add('active');
          }
        });
      }
    }
    
    // Feature cards click events
    function initFeatureCards() {
      const featureCards = document.querySelectorAll('.feature-card');
      
      featureCards.forEach(card => {
        card.addEventListener('click', () => {
          const featureId = card.dataset.feature;
          console.log(featureId);
        });
      });
    }
    
    // TCO Calculator functionality
    function initTCOCalculator() {
      const calculateButton = document.getElementById('calculate-tco');
      if (!calculateButton) return;
      
      calculateButton.addEventListener('click', function() {
        // Get input values
        const vehicleCost = parseFloat(document.getElementById('vehicle-cost').value);
        const leaseTerm = parseInt(document.getElementById('lease-term').value);
        const advancePayment = parseFloat(document.getElementById('advance-payment').value) / 100;
        const leaseRate = parseFloat(document.getElementById('lease-rate').value) / 100;
        const loanRate = parseFloat(document.getElementById('loan-rate').value) / 100;
        
        // Calculate lease payment
        const advanceAmount = vehicleCost * advancePayment;
        const financedAmount = vehicleCost - advanceAmount;
        const monthlyLeaseRate = leaseRate / 12;
        const leasePayment = financedAmount * (monthlyLeaseRate * Math.pow(1 + monthlyLeaseRate, leaseTerm)) / 
                             (Math.pow(1 + monthlyLeaseRate, leaseTerm) - 1);
        
        // Calculate loan payment
        const monthlyLoanRate = loanRate / 12;
        const loanPayment = vehicleCost * (monthlyLoanRate * Math.pow(1 + monthlyLoanRate, leaseTerm)) / 
                            (Math.pow(1 + monthlyLoanRate, leaseTerm) - 1);
        
        // Calculate TCO for lease (with tax benefits: VAT refund + accelerated depreciation)
        const vatRefund = vehicleCost * 0.20; // 20% VAT refund
        const acceleratedDepreciation = vehicleCost * 0.10; // Estimate 10% benefit from accelerated depreciation
        const leaseTCO = advanceAmount + (leasePayment * leaseTerm) - vatRefund - acceleratedDepreciation;
        
        // Calculate TCO for loan (no tax benefits)
        const loanTCO = loanPayment * leaseTerm;
        
        // Calculate savings
        const savings = loanTCO - leaseTCO;
        const savingsPercent = (savings / loanTCO) * 100;
        
        // Format and update results
        document.getElementById('lease-payment').textContent = formatCurrency(leasePayment) + ' ‚ÇΩ/–º–µ—Å';
        document.getElementById('loan-payment').textContent = formatCurrency(loanPayment) + ' ‚ÇΩ/–º–µ—Å';
        document.getElementById('lease-tco').textContent = formatCurrency(leaseTCO) + ' ‚ÇΩ';
        document.getElementById('loan-tco').textContent = formatCurrency(loanTCO) + ' ‚ÇΩ';
        document.getElementById('savings').textContent = formatCurrency(savings) + ' ‚ÇΩ (' + 
                                                     savingsPercent.toFixed(1) + '%)';
      });
    }
    
    function formatCurrency(value) {
      return new Intl.NumberFormat('ru-RU').format(Math.round(value));
    }
    
    // KPI Editing functionality
    function initKPIEditing() {
      const editToggle = document.getElementById('edit-kpi-toggle');
      const saveBtn = document.getElementById('save-kpi');
      const kpiEditFields = document.querySelectorAll('.kpi-edit');
      const saveContainer = document.querySelector('.kpi-save-container');
      
      // Load saved KPI values from localStorage if available
      loadKPITargets();
      
      editToggle.addEventListener('click', function() {
        kpiEditFields.forEach(field => {
          field.classList.toggle('show');
        });
        saveContainer.classList.toggle('show');
      });
      
      saveBtn.addEventListener('click', function() {
        // Save all KPI targets
        const targets = {};
        document.querySelectorAll('.kpi-target-input').forEach(input => {
          const kpiId = input.dataset.kpiId;
          const value = parseFloat(input.value);
          targets[kpiId] = value;
          
          // Update the displayed base value
          const card = input.closest('.kpi-card');
          const baseDisplay = card.querySelector('.kpi-base-value');
          baseDisplay.textContent = value;
          
          // Update the progress bar data
          const progressBar = card.querySelector('.progress-bar');
          progressBar.dataset.base = value;
          
          // Update the target for animation
          const kpiValue = card.querySelector('.kpi-value');
          kpiValue.dataset.target = value;
        });
        
        // Save to localStorage
        localStorage.setItem('kpi-targets', JSON.stringify(targets));
        
        // Hide edit fields
        kpiEditFields.forEach(field => {
          field.classList.remove('show');
        });
        saveContainer.classList.remove('show');
        
        // Re-animate with new values
        animateKPI();
        
        // Show confirmation
        alert('KPI —Ü–µ–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
      });
    }
    
    function loadKPITargets() {
      const savedTargets = JSON.parse(localStorage.getItem('kpi-targets'));
      if (!savedTargets) return;
      
      document.querySelectorAll('.kpi-target-input').forEach(input => {
        const kpiId = input.dataset.kpiId;
        if (savedTargets[kpiId]) {
          const value = savedTargets[kpiId];
          input.value = value;
          
          // Update the displayed base value
          const card = input.closest('.kpi-card');
          const baseDisplay = card.querySelector('.kpi-base-value');
          baseDisplay.textContent = value;
          
          // Update the progress bar data
          const progressBar = card.querySelector('.progress-bar');
          progressBar.dataset.base = value;
          
          // Update the target for animation
          const kpiValue = card.querySelector('.kpi-value');
          kpiValue.dataset.target = value;
        }
      });
    }
    
    // Theme toggling functionality
    function initThemeToggle() {
      const themeToggle = document.getElementById('theme-toggle');
      const savedTheme = localStorage.getItem('theme');
      
      // Apply saved theme if available
      if (savedTheme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
        themeToggle.textContent = '‚òÄÔ∏è';
      }
      
      themeToggle.addEventListener('click', function() {
        const currentTheme = document.documentElement.getAttribute('data-theme');
        
        if (currentTheme === 'dark') {
          document.documentElement.removeAttribute('data-theme');
          localStorage.setItem('theme', 'light');
          themeToggle.textContent = 'üåì';
        } else {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
          themeToggle.textContent = '‚òÄÔ∏è';
        }
      });
    }
    
    // Presentation mode functionality
    function initPresentationMode() {
      const presentationBtn = document.getElementById('presentation-mode');
      const allSections = document.querySelectorAll('section');
      let currentSectionIndex = 0;
      let isPresentationMode = false;
      
      presentationBtn.addEventListener('click', function() {
        isPresentationMode = !isPresentationMode;
        
        if (isPresentationMode) {
          document.body.classList.add('presentation-mode');
          presentationBtn.textContent = '‚ùå';
          presentationBtn.title = '–í—ã–π—Ç–∏ –∏–∑ —Ä–µ–∂–∏–º–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏';
          
          // Show only first section initially
          allSections.forEach((section, index) => {
            section.classList.toggle('active-section', index === 0);
          });
          
          // Listen for keyboard navigation
          document.addEventListener('keydown', handleKeydown);
        } else {
          document.body.classList.remove('presentation-mode');
          presentationBtn.textContent = 'üì∫';
          presentationBtn.title = '–†–µ–∂–∏–º –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏';
          
          // Show all sections again
          allSections.forEach(section => {
            section.classList.remove('active-section');
          });
          
          // Remove keyboard listener
          document.removeEventListener('keydown', handleKeydown);
        }
      });
      
      function handleKeydown(event) {
        if (!isPresentationMode) return;
        
        if (event.key === 'ArrowRight' || event.key === 'ArrowDown' || event.key === ' ') {
          // Next slide
          if (currentSectionIndex < allSections.length - 1) {
            allSections[currentSectionIndex].classList.remove('active-section');
            currentSectionIndex++;
            allSections[currentSectionIndex].classList.add('active-section');
            allSections[currentSectionIndex].scrollIntoView({ behavior: 'smooth' });
          }
        } else if (event.key === 'ArrowLeft' || event.key === 'ArrowUp') {
          // Previous slide
          if (currentSectionIndex > 0) {
            allSections[currentSectionIndex].classList.remove('active-section');
            currentSectionIndex--;
            allSections[currentSectionIndex].classList.add('active-section');
            allSections[currentSectionIndex].scrollIntoView({ behavior: 'smooth' });
          }
        } else if (event.key === 'Escape') {
          // Exit presentation mode
          presentationBtn.click();
        }
        
        event.preventDefault();
      }
    }
    
    // Initialize everything when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      animateKPI();
      initChecklist();
      initAccordion();
      initTabs();
      initFeatureCards();
      initTCOCalculator();
      initKPIEditing();
      initThemeToggle();
      initPresentationMode();
    });
  </script>
</body>
</html>
